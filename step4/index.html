<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>圣诞主题</title>
    <link rel='stylesheet' href='common.css' />
    <link rel='stylesheet' href='pageA.css' />
    <script src="http://libs.baidu.com/jquery/1.9.1/jquery.js"></script>
    <script type="text/javascript" src="http://img.mukewang.com/down/55ac9ea30001ace700000000.js"></script>
    <script src="observer.js"></script>
    <script src="pageC.js"></script>
    <script src="pageB.js"></script>
    <script src="pageA.js"></script>
    <script src="christmas.js"></script>
</head>

<body>
    <section class="container">
        <!-- 第一幅画面 -->
        <section class="page-a bg-adaptive">
            <!--月亮-->
            <figure class="moon"></figure>
            <!-- 圣诞树 -->
            <figure class="tree"></figure>
            <!-- 云 -->
            <figure class="cloudy"></figure>
            <!-- 男孩 -->
            <div class="chs-boy chs-boy-deer"></div>
            <!-- 窗户 -->
            <div class="window wood">
                <div class="window-bg"></div>
                <div class="window-content">
                    <div class="window-left"></div>
                    <div class="window-right"></div>
                </div>
            </div>
        </section>
        <!-- 第二幅画面 -->
        <section class="page-b bg-adaptive">
        </section>
        <!-- 第三幅画面 -->
        <section class="page-c bg-adaptive">
        </section>
    </section>
    <button>点击运行场景切换，并播放音乐</button>
    <script type="text/javascript">
    /**
     * 自适应页面大小
     * @param  {[type]} doc [description]
     * @param  {[type]} win [description]
     * @return {[type]}     [description]
     */
     //rem和em单位一样，都是一个相对单位,不同的是em是相对于元素的父元素的font-size进行计算,
     //rem是相对于根元素html的font-size进行计算,这样一来rem就绕开了复杂的层级关系，
     //实现了类似于em单位的功能。默认情况下浏览器给的字体大小是16px，按照转化关系 16px = 1rem
    var docEl = document.documentElement,
        resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
        recalc = function() {
            //自适应设置容器高度
            var container = document.querySelector(".container")
                //原始比例
            docEl.style.fontSize = 20*(container.clientWidth/320) + 'px';
            var proportion = 900 / 1440;
            container.style.height = container.clientWidth * proportion + "px";


        };
    window.addEventListener(resizeEvt, recalc, false);
    document.addEventListener('DOMContentLoaded', recalc, false);
    </script>
</body>

</html>